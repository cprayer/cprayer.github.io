{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/posts/mysql-index/","result":{"data":{"post":{"html":"<h3 id=\"인덱스는-asc로-만들어도-desc-방향으로-순회-가능\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%EB%8D%B1%EC%8A%A4%EB%8A%94-asc%EB%A1%9C-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%8F%84-desc-%EB%B0%A9%ED%96%A5%EC%9C%BC%EB%A1%9C-%EC%88%9C%ED%9A%8C-%EA%B0%80%EB%8A%A5\" aria-label=\"인덱스는 asc로 만들어도 desc 방향으로 순회 가능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인덱스는 ASC로 만들어도 DESC 방향으로 순회 가능</h3>\n<ul>\n<li>DESC 정렬은 ASC 인덱스를 역순으로 스캔할 수 있다. 다만 ASC 스캔 대비 오버헤드가 있을 수 있다</li>\n<li>MySQL 5.x에서는 <code class=\"language-text\">CREATE INDEX ... DESC</code>를 써도 실제 저장은 ASC였고 8.x부터는 실제로 DESC 인덱스를 만들 수 있다</li>\n</ul>\n<p>관련 링크:</p>\n<ul>\n<li><a href=\"https://dev.mysql.com/doc/refman/8.4/en/descending-indexes.html\">https://dev.mysql.com/doc/refman/8.4/en/descending-indexes.html</a></li>\n<li><a href=\"https://tech.kakao.com/posts/351\">https://tech.kakao.com/posts/351</a></li>\n</ul>\n<h3 id=\"code-classlanguage-texta-b-ccode-복합-인덱스는-leftmost-prefix-규칙으로-code-classlanguage-textacode와-code-classlanguage-texta-bcode를-포함\" style=\"position:relative;\"><a href=\"#code-classlanguage-texta-b-ccode-%EB%B3%B5%ED%95%A9-%EC%9D%B8%EB%8D%B1%EC%8A%A4%EB%8A%94-leftmost-prefix-%EA%B7%9C%EC%B9%99%EC%9C%BC%EB%A1%9C-code-classlanguage-textacode%EC%99%80-code-classlanguage-texta-bcode%EB%A5%BC-%ED%8F%AC%ED%95%A8\" aria-label=\"code classlanguage texta b ccode 복합 인덱스는 leftmost prefix 규칙으로 code classlanguage textacode와 code classlanguage texta bcode를 포함 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">(A, B, C)</code> 복합 인덱스는 leftmost prefix 규칙으로 <code class=\"language-text\">(A)</code>와 <code class=\"language-text\">(A, B)</code>를 포함</h3>\n<ul>\n<li><code class=\"language-text\">WHERE A=? AND B=?</code> 또는 <code class=\"language-text\">ORDER BY A, B</code> 같은 쿼리는 별도 인덱스 없이 커버된다</li>\n<li><code class=\"language-text\">WHERE B=?</code>처럼 where 조건을 주는 경우에는 `(A, B, C) 인덱스를 사용 불가능하니 별도로 인덱스를 만들어야 한다</li>\n</ul>\n<h3 id=\"code-classlanguage-textexplaincode과-code-classlanguage-textexplain-analyzecode로-쿼리-플랜을-보거나-쿼리-플랜-대비-실제-쿼리-실행-결과-비교\" style=\"position:relative;\"><a href=\"#code-classlanguage-textexplaincode%EA%B3%BC-code-classlanguage-textexplain-analyzecode%EB%A1%9C-%EC%BF%BC%EB%A6%AC-%ED%94%8C%EB%9E%9C%EC%9D%84-%EB%B3%B4%EA%B1%B0%EB%82%98-%EC%BF%BC%EB%A6%AC-%ED%94%8C%EB%9E%9C-%EB%8C%80%EB%B9%84-%EC%8B%A4%EC%A0%9C-%EC%BF%BC%EB%A6%AC-%EC%8B%A4%ED%96%89-%EA%B2%B0%EA%B3%BC-%EB%B9%84%EA%B5%90\" aria-label=\"code classlanguage textexplaincode과 code classlanguage textexplain analyzecode로 쿼리 플랜을 보거나 쿼리 플랜 대비 실제 쿼리 실행 결과 비교 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">EXPLAIN</code>과 <code class=\"language-text\">EXPLAIN ANALYZE</code>로 쿼리 플랜을 보거나 쿼리 플랜 대비 실제 쿼리 실행 결과 비교</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">EXPLAIN</span> FORMAT<span class=\"token operator\">=</span>TREE\n<span class=\"token keyword\">SELECT</span> first_name<span class=\"token punctuation\">,</span> last_name<span class=\"token punctuation\">,</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> total\n<span class=\"token keyword\">FROM</span> staff <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> payment\n  <span class=\"token keyword\">ON</span> staff<span class=\"token punctuation\">.</span>staff_id <span class=\"token operator\">=</span> payment<span class=\"token punctuation\">.</span>staff_id\n     <span class=\"token operator\">AND</span>\n     payment_date <span class=\"token operator\">LIKE</span> <span class=\"token string\">'2005-08%'</span>\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> first_name<span class=\"token punctuation\">,</span> last_name<span class=\"token punctuation\">;</span>\n \n<span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token keyword\">Table</span> scan <span class=\"token keyword\">on</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">temporary</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">></span> Aggregate <span class=\"token keyword\">using</span> <span class=\"token keyword\">temporary</span> <span class=\"token keyword\">table</span>\n        <span class=\"token operator\">-</span><span class=\"token operator\">></span> Nested <span class=\"token keyword\">loop</span> <span class=\"token keyword\">inner</span> <span class=\"token keyword\">join</span>  <span class=\"token punctuation\">(</span>cost<span class=\"token operator\">=</span><span class=\"token number\">1757.30</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">1787</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token keyword\">Table</span> scan <span class=\"token keyword\">on</span> staff  <span class=\"token punctuation\">(</span>cost<span class=\"token operator\">=</span><span class=\"token number\">3.20</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">-</span><span class=\"token operator\">></span> Filter: <span class=\"token punctuation\">(</span>payment<span class=\"token punctuation\">.</span>payment_date <span class=\"token operator\">like</span> <span class=\"token string\">'2005-08%'</span><span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">(</span>cost<span class=\"token operator\">=</span><span class=\"token number\">117.43</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">894</span><span class=\"token punctuation\">)</span>\n                <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token keyword\">Index</span> lookup <span class=\"token keyword\">on</span> payment <span class=\"token keyword\">using</span> idx_fk_staff_id <span class=\"token punctuation\">(</span>staff_id<span class=\"token operator\">=</span>staff<span class=\"token punctuation\">.</span>staff_id<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">(</span>cost<span class=\"token operator\">=</span><span class=\"token number\">117.43</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">8043</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>위와 같이 <code class=\"language-text\">EXPLAIN</code> 명령을 통해 어떤 쿼리 플랜이 적용되는지 확인 할 수 있다</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">EXPLAIN</span> <span class=\"token keyword\">ANALYZE</span>\n<span class=\"token keyword\">SELECT</span> first_name<span class=\"token punctuation\">,</span> last_name<span class=\"token punctuation\">,</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> total\n<span class=\"token keyword\">FROM</span> staff <span class=\"token keyword\">INNER</span> <span class=\"token keyword\">JOIN</span> payment\n  <span class=\"token keyword\">ON</span> staff<span class=\"token punctuation\">.</span>staff_id <span class=\"token operator\">=</span> payment<span class=\"token punctuation\">.</span>staff_id\n     <span class=\"token operator\">AND</span>\n     payment_date <span class=\"token operator\">LIKE</span> <span class=\"token string\">'2005-08%'</span>\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> first_name<span class=\"token punctuation\">,</span> last_name<span class=\"token punctuation\">;</span>\n \n<span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token keyword\">Table</span> scan <span class=\"token keyword\">on</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">temporary</span><span class=\"token operator\">></span>  <span class=\"token punctuation\">(</span>actual <span class=\"token keyword\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.001</span><span class=\"token punctuation\">.</span><span class=\"token number\">.0</span><span class=\"token number\">.001</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> loops<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">></span> Aggregate <span class=\"token keyword\">using</span> <span class=\"token keyword\">temporary</span> <span class=\"token keyword\">table</span>  <span class=\"token punctuation\">(</span>actual <span class=\"token keyword\">time</span><span class=\"token operator\">=</span><span class=\"token number\">58.104</span><span class=\"token punctuation\">.</span><span class=\"token number\">.58</span><span class=\"token number\">.104</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> loops<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">-</span><span class=\"token operator\">></span> Nested <span class=\"token keyword\">loop</span> <span class=\"token keyword\">inner</span> <span class=\"token keyword\">join</span>  <span class=\"token punctuation\">(</span>cost<span class=\"token operator\">=</span><span class=\"token number\">1757.30</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">1787</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>actual <span class=\"token keyword\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.816</span><span class=\"token punctuation\">.</span><span class=\"token number\">.46</span><span class=\"token number\">.135</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">5687</span> loops<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token keyword\">Table</span> scan <span class=\"token keyword\">on</span> staff  <span class=\"token punctuation\">(</span>cost<span class=\"token operator\">=</span><span class=\"token number\">3.20</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>actual <span class=\"token keyword\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.047</span><span class=\"token punctuation\">.</span><span class=\"token number\">.0</span><span class=\"token number\">.051</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> loops<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n            <span class=\"token operator\">-</span><span class=\"token operator\">></span> Filter: <span class=\"token punctuation\">(</span>payment<span class=\"token punctuation\">.</span>payment_date <span class=\"token operator\">like</span> <span class=\"token string\">'2005-08%'</span><span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">(</span>cost<span class=\"token operator\">=</span><span class=\"token number\">117.43</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">894</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>actual <span class=\"token keyword\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.464</span><span class=\"token punctuation\">.</span><span class=\"token number\">.22</span><span class=\"token number\">.767</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">2844</span> loops<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n                <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token keyword\">Index</span> lookup <span class=\"token keyword\">on</span> payment <span class=\"token keyword\">using</span> idx_fk_staff_id <span class=\"token punctuation\">(</span>staff_id<span class=\"token operator\">=</span>staff<span class=\"token punctuation\">.</span>staff_id<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">(</span>cost<span class=\"token operator\">=</span><span class=\"token number\">117.43</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">8043</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>actual <span class=\"token keyword\">time</span><span class=\"token operator\">=</span><span class=\"token number\">0.450</span><span class=\"token punctuation\">.</span><span class=\"token number\">.19</span><span class=\"token number\">.988</span> <span class=\"token keyword\">rows</span><span class=\"token operator\">=</span><span class=\"token number\">8024</span> loops<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">EXPLAIN ANALYZE</code>는 쿼리를 실제 실행하여 예상 시간과 실제 시간을 비교할 수 있다(8.x부터)</li>\n</ul>\n<p>관련 링크:</p>\n<ul>\n<li><a href=\"https://dev.mysql.com/blog-archive/mysql-explain-analyze/\">https://dev.mysql.com/blog-archive/mysql-explain-analyze/</a></li>\n</ul>\n<h3 id=\"필요한-경우-code-classlanguage-textindex-hintcode-사용하여-쿼리-플랜-대신-지정한-인덱스를-사용--무시\" style=\"position:relative;\"><a href=\"#%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%BD%EC%9A%B0-code-classlanguage-textindex-hintcode-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%BF%BC%EB%A6%AC-%ED%94%8C%EB%9E%9C-%EB%8C%80%EC%8B%A0-%EC%A7%80%EC%A0%95%ED%95%9C-%EC%9D%B8%EB%8D%B1%EC%8A%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9--%EB%AC%B4%EC%8B%9C\" aria-label=\"필요한 경우 code classlanguage textindex hintcode 사용하여 쿼리 플랜 대신 지정한 인덱스를 사용  무시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>필요한 경우 <code class=\"language-text\">INDEX HINT</code> 사용하여 쿼리 플랜 대신 지정한 인덱스를 사용 / 무시</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">SELECT\n    O.order_id, O.customer_id\nFROM\n    orders O\nFORCE INDEX (pk_orders) -- pk_orders 인덱스를 반드시 사용하도록 강제\nWHERE\n    O.order_date > DATE_SUB(NOW(), INTERVAL 7 DAY);</code></pre></div>\n<ul>\n<li>위처럼 <code class=\"language-text\">FORCE INDEX</code>, <code class=\"language-text\">IGNORE INDEX</code>, <code class=\"language-text\">USE INDEX</code> 등의 문구를 사용하여 인덱스를 강제로 사용하게 하거나 무시, 혹은 사용을 유도할 수 있다</li>\n<li>JPA는 <code class=\"language-text\">QueryHint</code> Annotation, Querydsl의 경우 <code class=\"language-text\">forceIndex</code> / <code class=\"language-text\">useIndex</code> 메소드 등을 통해 인덱스 힌트를 줄 수 있다</li>\n<li>쿼리 플랜이 부정확하여 slow query 가 발생하는 경우에만 제한적으로 사용한다</li>\n</ul>\n<h3 id=\"clustered-index는-하나만-존재-그-외-인덱스는-모두-secondary-index\" style=\"position:relative;\"><a href=\"#clustered-index%EB%8A%94-%ED%95%98%EB%82%98%EB%A7%8C-%EC%A1%B4%EC%9E%AC-%EA%B7%B8-%EC%99%B8-%EC%9D%B8%EB%8D%B1%EC%8A%A4%EB%8A%94-%EB%AA%A8%EB%91%90-secondary-index\" aria-label=\"clustered index는 하나만 존재 그 외 인덱스는 모두 secondary index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>clustered index는 하나만 존재. 그 외 인덱스는 모두 secondary index</h3>\n<ul>\n<li>PK가 존재하면 PK가 clustered index, PK가 없으면 모든 컬럼이 NOT NULL로 되어 있는 유니크 인덱스를 사용, 이마저도 없으면 GEN_CLUST_INDEX 라는 숨김 처리 인덱스를 사용</li>\n<li>모든 secondary index leaf가 clusterd-index 값을 저장하고 이 값을 통해 double-read가 발생한다(secondary → clustered)</li>\n<li>clustered-index의 사이즈가 큰 경우 모든 secondary index의 크기도 커진다</li>\n<li>필요한 컬럼이 인덱스에 모두 있으면 covering index가 되어 secondary index여도 clustered index를 사용하지 않고 쿼리 결과를 계산할 수 있다</li>\n</ul>\n<h3 id=\"cardinality가-낮은-컬럼은-인덱스로-사용하기에-비효율적임\" style=\"position:relative;\"><a href=\"#cardinality%EA%B0%80-%EB%82%AE%EC%9D%80-%EC%BB%AC%EB%9F%BC%EC%9D%80-%EC%9D%B8%EB%8D%B1%EC%8A%A4%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0%EC%97%90-%EB%B9%84%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9E%84\" aria-label=\"cardinality가 낮은 컬럼은 인덱스로 사용하기에 비효율적임 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cardinality가 낮은 컬럼은 인덱스로 사용하기에 비효율적임</h3>\n<ul>\n<li><code class=\"language-text\">Y/N</code>나 상태 코드 같이 cardinality가 낮은 컬럼은 인덱스에 넣는 것이 오히려 더 성능에 안 좋을 수 있다</li>\n</ul>","excerpt":"인덱스는 ASC로 만들어도 DESC 방향으로 순회 가능 DESC 정렬은 ASC 인덱스를 역순으로 스캔할 수 있다. 다만 ASC 스캔 대비 오버헤드가 있을 수 있다 MySQL 5.x에서는 를 써도 실제 저장은 ASC였고 8.x부터는 실제로 DESC…","timeToRead":2,"fields":{"slug":"/posts/mysql-index/"},"frontmatter":{"tags":["mysql"],"author":{"jsonId":"cprayer","bio":"","twitter":"@fabien0102","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/b0b39/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/b0b39/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/93542/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/aa4d2/cprayer.jpg 2x"}}]}},"title":"mysql 인덱스 관련 정리","updatedDate":"Nov 24, 2025","image":null}},"recents":{"edges":[{"node":{"fields":{"slug":"/posts/mismatch-docker-image-size/"},"timeToRead":1,"frontmatter":{"title":"docker image layer는 압축 가능하다","image":null,"author":{"jsonId":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/fe190/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/3e51d/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/c2-compiler-crash/"},"timeToRead":1,"frontmatter":{"title":"eclipse-temurin 17.0.8.1 에서 C2 Compiler crash(SIGSEGV) 발생","image":null,"author":{"jsonId":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/fe190/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/3e51d/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/argocd-3-way-diff-issue/"},"timeToRead":2,"frontmatter":{"title":"argocd의 3-way diff 로 인한 이슈","image":null,"author":{"jsonId":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/fe190/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/3e51d/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/epoll-wait-failed-function-not-implemented/"},"timeToRead":1,"frontmatter":{"title":"netty epoll_wait(..) failed: Function not implemented 에러 발생","image":null,"author":{"jsonId":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/fe190/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/3e51d/cprayer.jpg 2x"}}]}}}}}]}},"pageContext":{"slug":"/posts/mysql-index/"}},"staticQueryHashes":[],"slicesMap":{}}