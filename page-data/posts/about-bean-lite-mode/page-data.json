{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/posts/about-bean-lite-mode/","result":{"data":{"post":{"html":"<p>bean annotation 문서를 보던 도중, bean lite mode라는 키워드를 봤습니다. 검색해보니 이와 반대되는 친구로는 bean full mode가 있는데요. <br>\nbean full mode의 경우에는 우리가 평소 사용하는 방식입니다.(Configuration 어노테이션에 별도 설정없이 사용) 그렇다면 bean lite mode는 무엇이고, 어떻게 설정하고, 무슨 용도로 사용되는걸까요?</p>\n<h2 id=\"bean-lite-mode란\" style=\"position:relative;\"><a href=\"#bean-lite-mode%EB%9E%80\" aria-label=\"bean lite mode란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>bean lite mode란</h2>\n<p>bean lite mode는 'inter-bean references'를 지원하지 않고 그 이외에는 bean full mode와 동일하게 동작한다고 합니다. 즉, 동일하게 bean으로 등록되고 bean lifecycle과 관련된 콜백들이 똑같이 호출됩니다.(자세한 내용은 <a href=\"https://docs.spring.io/spring-framework/docs/5.3.4/javadoc-api/org/springframework/context/annotation/Bean.html\">링크</a>를 확인해주세요.)</p>\n<h2 id=\"bean-lite-mode-설정-방법\" style=\"position:relative;\"><a href=\"#bean-lite-mode-%EC%84%A4%EC%A0%95-%EB%B0%A9%EB%B2%95\" aria-label=\"bean lite mode 설정 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>bean lite mode 설정 방법</h2>\n<p>bean lite mode는 Configuration 어노테이션의 proxyBeanMethods를 false로 설정하거나 Configuration 이외의 클래스에서 bean 메소드를 작성하면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span><span class=\"token punctuation\">(</span>proxyBeanMethods <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token annotation punctuation\">@Bean</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">HelloWorldBean</span> <span class=\"token function\">helloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HelloWorldBean</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">InitializingBean</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">afterPropertiesSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello world!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token number\">2021</span>-03-17 <span class=\"token number\">21</span>:01:26.794  INFO <span class=\"token number\">5612</span> --- <span class=\"token punctuation\">[</span>  restartedMain<span class=\"token punctuation\">]</span> j.LocalContainerEntityManagerFactoryBean <span class=\"token builtin class-name\">:</span> Initialized JPA EntityManagerFactory <span class=\"token keyword\">for</span> persistence unit <span class=\"token string\">'default'</span>\nhello world<span class=\"token operator\">!</span>\n<span class=\"token number\">2021</span>-03-17 <span class=\"token number\">21</span>:01:27.468  INFO <span class=\"token number\">5612</span> --- <span class=\"token punctuation\">[</span>  restartedMain<span class=\"token punctuation\">]</span> o.s.s.concurrent.ThreadPoolTaskExecutor  <span class=\"token builtin class-name\">:</span> Initializing ExecutorService <span class=\"token string\">'applicationTaskExecutor'</span></code></pre></div>\n<p>위와 같이 정상적으로 빈이 등록되고, hello world! 메세지가 출력된 것을 확인할 수 있습니다.</p>\n<h2 id=\"inter-bean-references을-지원하지-않는다는게-무슨-뜻일까\" style=\"position:relative;\"><a href=\"#inter-bean-references%EC%9D%84-%EC%A7%80%EC%9B%90%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94%EB%8B%A4%EB%8A%94%EA%B2%8C-%EB%AC%B4%EC%8A%A8-%EB%9C%BB%EC%9D%BC%EA%B9%8C\" aria-label=\"inter bean references을 지원하지 않는다는게 무슨 뜻일까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>inter-bean references을 지원하지 않는다는게 무슨 뜻일까?</h2>\n<p>goodByeWorldBean이 빈으로 등록되는 과정에서 어떤 문자열을 출력할까요?</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span><span class=\"token punctuation\">(</span>proxyBeanMethods <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BeanLiteMode</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token annotation punctuation\">@Bean</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">HelloWorldBean</span> <span class=\"token function\">helloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token annotation punctuation\">@Bean</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">GoodByeWorldBean</span> <span class=\"token function\">goodByeWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">GoodByeWorldBean</span> a <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GoodByeWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token function\">helloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">GoodByeWorldBean</span> b <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GoodByeWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token function\">helloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getHelloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> b<span class=\"token punctuation\">.</span><span class=\"token function\">getHelloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"same reference\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"different reference\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> a<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HelloWorldBean</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">InitializingBean</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">afterPropertiesSet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello world!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GoodByeWorldBean</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">HelloWorldBean</span> helloWorldBean<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">GoodByeWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HelloWorldBean</span> helloWorldBean<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>helloWorldBean <span class=\"token operator\">=</span> helloWorldBean<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">HelloWorldBean</span> <span class=\"token function\">getHelloWorldBean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> helloWorldBean<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>결과는 'same reference'를 출력합니다. 여기서 proxyBeanMethods = true를 false로 바꾸면 'different reference'가 출력되는 것을 확인할 수 있습니다. <br>\n즉, spring에서는 bean scope가 singleton이고 bean full mode(proxyBeanMethods = true)인 경우에는 proxy를 이용하여 bean 메소드가 호출될 때 해당 객체가 singleton임을 보장합니다. <br>\n즉 우리가 직접 bean 메소드를 호출했던 것을 getBean 메소드를 통해 bean을 얻을 수 있도록 바꿔줍니다. bean lite mode에서는 이를 보장하지 않습니다. <br>\n따라서 bean lite mode에서는 이로 인해 찾기 어려운 버그가 발생할 수 있습니다.</p>\n<h2 id=\"그러면-bean-lite-mode를-사용-안하면-되지-않나\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9F%AC%EB%A9%B4-bean-lite-mode%EB%A5%BC-%EC%82%AC%EC%9A%A9-%EC%95%88%ED%95%98%EB%A9%B4-%EB%90%98%EC%A7%80-%EC%95%8A%EB%82%98\" aria-label=\"그러면 bean lite mode를 사용 안하면 되지 않나 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그러면 bean lite mode를 사용 안하면 되지 않나?</h2>\n<p>bean lite mode를 사용하면 성능 상의 이점을 얻을 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 259px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.398843930635834%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnUlEQVR42j1S15LbQAzT5yX3knEsW5LVtqvbcrm7/D0C0pk8cFgWBEFK2fnSoLMe47LBxgE+DXD0Lo0Y5hWdCyibHoKTmg0JrfFI00LsqNiCb4f8jF/HE7IQeoh512EYPIxpYE3LnHXfI0WLtr2grgt4yRPzpoSzHOBaxXRtiarMcalIOIUK99XhcYvYFwvfHTH6El+PCY9roEV8M37tCU9inszvm8PrljS+sUfqoT8h2QLZ4CtcZ0OzBAasY49laBnH/7XnPvyLo75vkyGR0747SadItW0O1+UkdOUbNL+BAnoTBvX7GrQmSvbVK2ZjLrEQyaA5NUrmqTKbU63Nstq+OgXIgNc+4vu50A/45Mp/XquaqP16zHqOz/uoOMEIdps6ZMkVWKlEbI61gqV2paIXGzaSy1mCKWCaA2984npHjRO3i+aMvj6gPn+o8YalqpKbCKkonbmKrCjKxZItEWiyUiDB4C+6YmRN3iwHVPkPXE4/kQl7MPwNupN621JBd6YCqqh/k6RQMmmOrlJMtBXVVfD8qhJLbYytfpi/urmGN93KgM8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bean-lite-mode-call-stack\"\n        title=\"\"\n        src=\"/static/1828d723de1ce24bc94b49bca626e1d1/a2ead/bean-lite-mode-call-stack.png\"\n        srcset=\"/static/1828d723de1ce24bc94b49bca626e1d1/991de/bean-lite-mode-call-stack.png 173w,\n/static/1828d723de1ce24bc94b49bca626e1d1/a2ead/bean-lite-mode-call-stack.png 259w\"\n        sizes=\"(max-width: 259px) 100vw, 259px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>bean lite mode의 call stack과</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 261px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.39306358381502%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC4UlEQVR42j1T124cMQzcv0sQJLF927vaass1351jA/n5yZDr+IGgOBpSbEpe8hLtaOCmiN46GD9hdB7daLFsJzT9iHYYkZW1YnInmJzFRySvGjylGZ6zHEndDZiWFTZE+Lig6YRs1NH4QIcZVdejbDrU/UDepHg7GH1cJK9bZFWNgjpJi0pf8XHG9f7Q4IGB1+MJYV5UJMB6OmvGYkvQ7z9/a4Dj+aL3ggsnec4KFPI6M0tZVsb0a5bUMAPRIr31zJLaOFhm3FELXra9imTZ9EYzTaq6hPcW8zyh61vkRQbnDTOcYeyIOAfEZcJMWZZIHRGCQ4weYXI82/1uZT+dQTI0TzDtAbZnoLFAsBVMd8DQPMMNOYb6ab+j2C6Dod7vBU/h6SNauNHWSEz7jGAKOgiYqUwMavsXygFhzPXeMshE7Yf0CxOZPkW51ElV/ELXZOibFGNfoK0P6NsMdflE/KC2GSq9G4cSXZ0STzF0BSXXs/DHYbcTaaRMOC6bTmqilvWRNTpdX3VtiqbF70OmqyT3MhRHn5lTF25cN53wxokn3rXYVod1tlgXTnGs4WxD22GZ3ZcOvqe22MiZAs/RIk6j+ggufiJJtCXO64j7JeD1RLLJsYQab68zbrQF+3hstCM5E22Py2rwuPJ8tLhsRn3/9zWZfY3r0eN+jSQz6Dlgiz0+3k64nT3e7xseDH6/7AEf5Cmf9o22yGkZdNrBlEgCMzrGTrPcIjd/ZjmhoRNbMLWKi8NpHpgNS1auUVwqEf5Gnkw6MGgSXanEGzNTR8rKgFLy22350h+PI/7cV1ayZ3ljmeLz9rrslbAtYiezqzQb6YO89vf9omTpjZCkTMlKSnKfCyx7atoXRFeryGJX6TfU2XckjosqpUnfZt98ltwS61QEj3zUsele5HPxvz4B+yYPdeVPtMUPJGMjP6XamypEatPtX0q+nzc7PvFbSdMnrlQwe2biJ8EFX7hKMpR/obvXX2cdC2kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bean-full-mode-call-stack\"\n        title=\"\"\n        src=\"/static/82f16431cc91fda01869e8d85c571c85/edf96/bean-full-mode-call-stack.png\"\n        srcset=\"/static/82f16431cc91fda01869e8d85c571c85/991de/bean-full-mode-call-stack.png 173w,\n/static/82f16431cc91fda01869e8d85c571c85/edf96/bean-full-mode-call-stack.png 261w\"\n        sizes=\"(max-width: 261px) 100vw, 261px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>bean full mode의 call stack을 보시면 차이가 있다는 것을 알 수 있는데요. proxy 생성을 위한 비용 및 호출할 때 단계가 줄어들어 bean 생성을 좀 더 빠르게 할 수 있습니다. <br>\nspring boot에서도 startup 시간을 개선하기 위해 autoconfigure 패키지에서 다음과 같이 bean lite mode를 사용하고 있습니다. (이와 관련된 깃헙 이슈는 해당 <a href=\"https://github.com/spring-projects/spring-boot/issues/9068\">링크</a>를 참고해주세요.)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration</span>\n<span class=\"token annotation punctuation\">@AutoConfigureOrder</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Ordered</span><span class=\"token punctuation\">.</span><span class=\"token constant\">HIGHEST_PRECEDENCE</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Configuration</span><span class=\"token punctuation\">(</span>proxyBeanMethods <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@ConditionalOnWebApplication</span><span class=\"token punctuation\">(</span>type <span class=\"token operator\">=</span> <span class=\"token class-name\">Type</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SERVLET</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@ConditionalOnClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DispatcherServlet</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@AutoConfigureAfter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletWebServerFactoryAutoConfiguration</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DispatcherServletAutoConfiguration</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>규모가 큰 프로젝트이고, bean 초기화 및 생성으로 인해 startup에 걸리는 시간이 크다면 bean lite mode 사용을 고려해보는 것도 나쁘지 않을 것으로 보입니다. <br>\n그 이외의 경우라면 찾기 어려운 버그를 발생시킬 수 있는 bean lite mode 대신 bean full mode를 사용하는 것이 좋습니다.</p>","excerpt":"bean annotation 문서를 보던 도중, bean lite mode라는 키워드를 봤습니다. 검색해보니 이와 반대되는 친구로는 bean full mode가 있는데요.  bean full mode…","timeToRead":2,"fields":{"slug":"/posts/about-bean-lite-mode/"},"frontmatter":{"tags":["spring","spring-bean","spring-bean-lite-mode"],"author":{"jsonId":"cprayer","bio":"","twitter":"@fabien0102","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/b0b39/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/b0b39/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/93542/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/aa4d2/cprayer.jpg 2x"}}]}},"title":"bean lite mode란 무엇인가","updatedDate":"Mar 17, 2021","image":null}},"recents":{"edges":[{"node":{"fields":{"slug":"/posts/epoll-wait-failed-function-not-implemented/"},"timeToRead":1,"frontmatter":{"title":"netty epoll_wait(..) failed: Function not implemented 에러 이슈 해결 방법","image":null,"author":{"jsonId":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/fe190/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/3e51d/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/kube-proxy-and-nf-conntrack-packet-drop/"},"timeToRead":1,"frontmatter":{"title":"nf_conntrack_max 값이 k8s ingress 노드 재부팅 후 의도하지 않은 값으로 업데이트 되는 이슈","image":null,"author":{"jsonId":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/fe190/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/3e51d/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/k8s-and-etc-resolv-conf/"},"timeToRead":3,"frontmatter":{"title":"k8s와 /etc/resolv.conf","image":null,"author":{"jsonId":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/fe190/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/3e51d/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/redis-manually-force-a-failover/"},"timeToRead":1,"frontmatter":{"title":"강제로 레플리카 레디스를 마스터로 승격시키기","image":null,"author":{"jsonId":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/6d45f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/fe190/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/3e51d/cprayer.jpg 2x"}}]}}}}}]}},"pageContext":{"slug":"/posts/about-bean-lite-mode/"}},"staticQueryHashes":[],"slicesMap":{}}