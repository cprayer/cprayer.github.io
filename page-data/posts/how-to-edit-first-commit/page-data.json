{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/posts/how-to-edit-first-commit/","result":{"data":{"site":{"siteMetadata":{"disqus":"cprayer-github-io"}},"post":{"html":"<h2 id=\"tl-dr\"><a href=\"#tl-dr\" aria-label=\"tl dr permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TL; DR;</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i --root <span class=\"token variable\">$tip</span></code></pre></div>\n<p>위의 명령어를 입력하면 해당 브랜치로 체크아웃하고 해당 브랜치의 첫 번째 커밋부터 모든 커밋 내용을 변경할 수 있습니다. 브랜치를 생략하면 현재 브랜치로 지정이 됩니다.</p>\n<p><strong>주의 !!!</strong> git 2.7.4에서는 --root 옵션을 주고 위의 명령어를 수행하면 모든 커밋 내용에 아무런 변경이 없는 경우에도 모든 해시 값이 바뀝니다. git 2.19.1에서는 이러한 현상이 발생하지 않았습니다.</p>\n<h2 id=\"소개\"><a href=\"#%EC%86%8C%EA%B0%9C\" aria-label=\"소개 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>소개</h2>\n<p> git을 사용하다 보면, 과거의 커밋 내용을(커밋들끼리 합치거나, 커밋 메세지 수정, 커밋 순서 변경 등) 변경하고 싶은 경우가 발생합니다. 이런 경우 rebase 명령과 interactive 옵션을 이용하면 특정 커밋 이후의 커밋 내용을 바꿀 수 있게 됩니다. 바뀐 커밋을 기준으로 그 이후의 모든 커밋 해시 값이 바뀌기 때문에 원격 저장소에 이미 올라간 커밋의 경우는 최대한 수정하지 않도록 해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> commit --amend</code></pre></div>\n<p>제일 최신 커밋의 메세지를 바꾸려는 경우 commit 명령의 --amend 옵션을 사용하면 됩니다. 해당 명령어를 수행하면 편집기 창이 나오고 기존 커밋 메세지 내용이 적혀 있습니다. 이를 원하는 메세지로 수정 후 저장하면 커밋 메시지가 바뀝니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i <span class=\"token variable\">$base</span></code></pre></div>\n<p>바로 이전의 커밋이 아닌 더 이전의 커밋 메세지를 바꾸려는 경우 위의 명령어를 통해 $base 커밋의 이후 커밋부터의 내용을 변경할 수 있습니다. 해당 명령어를 수행하면 다음과 같은 편집기 창이 나옵니다.</p>\n<p>b11d7ab(첫 번째 커밋) - 8a8b2bb - dd389f4 - 2807527 - e5dd3d5(최신 커밋)</p>\n<p>제 브랜치는 다음과 같은 상태이고 git rebase -i b11d7ab 명령어를 수행한 결과입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pick 8a8b2bb 포스트 추가\npick dd389f4 포스트 UI 관련 전역 설정 수정\npick <span class=\"token number\">2807527</span> mathjax 스크립트 추가\npick e5dd3d5 포스트 내용 수정\n\n<span class=\"token comment\"># Commands:</span>\n<span class=\"token comment\"># p, pick = use commit</span>\n<span class=\"token comment\"># r, reword = use commit, but edit the commit message</span>\n<span class=\"token comment\"># e, edit = use commit, but stop for amending</span>\n<span class=\"token comment\"># s, squash = use commit, but meld into previous commit</span>\n<span class=\"token comment\"># f, fixup = like \"squash\", but discard this commit's log message</span>\n<span class=\"token comment\"># x, exec = run command (the rest of the line) using shell</span>\n<span class=\"token comment\"># d, drop = remove commit</span></code></pre></div>\n<p>커밋의 pick을 r이나 reword로 수정하고 저장하면 바꾸려는 커밋 메세지가 적혀 있는 편집기 창이 나타납니다. 커밋 메세지를 변경하고 저장하면 커밋 메세지가 바뀝니다. (다른 명령어의 기능이 궁금하다면 <a href=\"https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-%ED%9E%88%EC%8A%A4%ED%86%A0%EB%A6%AC-%EB%8B%A8%EC%9E%A5%ED%95%98%EA%B8%B0&#x27;\">GIT 도구 히스토리 단장하기</a>에서 확인하시면 됩니다.)</p>\n<p>다음과 같이 특정 커밋을 기준으로 그 이후 커밋 내용을 변경할 수 있도록 되어 있어 첫 번째 커밋 이전 커밋을 지정할 수 없기에 첫 번째 커밋의 내용은 변경할 수 없습니다.</p>\n<h2 id=\"결론\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>따라서 이를 해결하기 위해 git에서는 1.7.12부터 rebase 명령에 --root라는 옵션을 통해 첫 번째 커밋부터 내용을 변경할 수 있도록 지원합니다. 브랜치를 생략하면 현재 브랜치를 기준으로 작업합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i --root <span class=\"token variable\">$tip</span></code></pre></div>\n<p><strong>주의 !!!</strong> git 2.7.4에서는 --root 옵션을 주고 위의 명령어를 수행하면 모든 커밋 내용에 아무런 변경이 없어도 모든 해시 값이 바뀝니다. git 2.19.1에서는 이러한 현상이 발생하지 않았습니다.</p>\n<p>git rebase -i root를 수행한 결과는 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pick b11d7ab First commit\npick 8a8b2bb 포스트 추가\npick dd389f4 포스트 UI 관련 전역 설정 수정\npick <span class=\"token number\">2807527</span> mathjax 스크립트 추가\npick e5dd3d5 포스트 내용 수정</code></pre></div>\n<p>첫 번째 커밋도 포함되어 나오는 것을 확인할 수 있습니다. 이제 첫 번째 커밋도 내용 변경이 가능합니다.</p>\n<h2 id=\"덤\"><a href=\"#%EB%8D%A4\" aria-label=\"덤 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>덤</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i --root <span class=\"token variable\">$tip</span></code></pre></div>\n<p>위의 명령어는 아래와 동일한 명령어입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout <span class=\"token variable\">$tip</span>\n<span class=\"token function\">git</span> rebase -i --root</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase <span class=\"token variable\">$base</span> <span class=\"token variable\">$tip</span></code></pre></div>\n<p>마찬가지로 위의 명령어는 아래와 동일한 명령어입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout <span class=\"token variable\">$tip</span>\n<span class=\"token function\">git</span> rebase <span class=\"token variable\">$base</span></code></pre></div>\n<h2 id=\"참고\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2246208/change-first-commit-of-project-with-git\">https://stackoverflow.com/questions/2246208/change-first-commit-of-project-with-git</a></li>\n<li><a href=\"https://raw.githubusercontent.com/git/git/master/Documentation/RelNotes/1.7.12.txt\">https://raw.githubusercontent.com/git/git/master/Documentation/RelNotes/1.7.12.txt</a></li>\n</ul>","excerpt":"TL; DR; 위의 명령어를 입력하면 해당 브랜치로 체크아웃하고 해당 브랜치의 첫 번째 커밋부터 모든 커밋 내용을 변경할 수 있습니다. 브랜치를 생략하면 현재 브랜치로 지정이 됩니다. 주의 !!! git 2.7.4에서는 --root…","timeToRead":3,"fields":{"slug":"/posts/how-to-edit-first-commit/"},"frontmatter":{"tags":["git"],"author":{"id":"cprayer","bio":"","twitter":"@fabien0102","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/7ca4f/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/7ca4f/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/236eb/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/30e6d/cprayer.jpg 2x"}}]}},"title":"첫 번째 커밋 메세지 수정하기","updatedDate":"Oct 9, 2018","image":null}},"recents":{"edges":[{"node":{"fields":{"slug":"/posts/about-spring-request-mapping/"},"timeToRead":8,"frontmatter":{"title":"spring의 RequestMapping 어노테이션 내부 처리 과정","image":null,"author":{"id":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/29d9a/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/29d9a/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/1a035/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/74d54/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/tls-cert-secret-create-and-replace/"},"timeToRead":2,"frontmatter":{"title":"kubernetes TLS 인증서 secret 생성 및 교체하기","image":null,"author":{"id":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/29d9a/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/29d9a/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/1a035/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/74d54/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/rfc-1918/"},"timeToRead":1,"frontmatter":{"title":"사설망 대역(RFC 1918)","image":null,"author":{"id":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/29d9a/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/29d9a/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/1a035/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/74d54/cprayer.jpg 2x"}}]}}}}},{"node":{"fields":{"slug":"/posts/nodejs-http-api-call-rst-issue/"},"timeToRead":2,"frontmatter":{"title":"nodeJS HTTP API CALL시 간헐적인 RST(Connection reset by peer) 발생 이슈","image":null,"author":{"id":"cprayer","avatar":{"children":[{"fixed":{"src":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/29d9a/cprayer.jpg","srcSet":"/static/5d0fd80a1d7df4f6a3adf452cc763c07/29d9a/cprayer.jpg 1x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/1a035/cprayer.jpg 1.5x,\n/static/5d0fd80a1d7df4f6a3adf452cc763c07/74d54/cprayer.jpg 2x"}}]}}}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/how-to-edit-first-commit/"}}}